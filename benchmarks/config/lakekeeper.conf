# Lakekeeper Benchmark Configuration
# This file configures polaris-tools benchmarks for Lakekeeper

# HTTP connection settings
http {
  base-url = "http://localhost:8182"
}

# Lakekeeper doesn't require OAuth for basic operations when not configured
# We'll use a mock auth or skip auth
auth {
  client-id = ""
  client-secret = ""
  refresh-interval-seconds = 300
  max-retries = 5
  retryable-http-codes = [500, 502, 503, 504]
}

# Dataset configuration
dataset {
  # Lakekeeper uses file storage via MinIO
  storage-config-info = { storageType = "S3" }
  default-base-location = "s3://lakekeeper-warehouse"

  # Catalog structure - single catalog
  num-catalogs = 1

  # Namespace tree structure (same as bingsan for fair comparison)
  namespace-width = 2
  namespace-depth = 3

  # Tables and views per namespace
  tables-per-namespace = 5
  max-tables = -1
  views-per-namespace = 3
  max-views = -1

  # Schema complexity
  columns-per-table = 10
  columns-per-view = 10

  # Properties
  namespace-properties = 5
  table-properties = 5
  view-properties = 5
}

# Workload configurations
workload {
  # CreateCommits simulation
  create-commits {
    table-commits-throughput = 10
    view-commits-throughput = 5
    duration-in-minutes = 1
  }

  # ReadTreeDataset simulation
  read-tree-dataset {
    namespace-concurrency = 20
    table-concurrency = 20
    view-concurrency = 10
  }

  # CreateTreeDataset simulation
  create-tree-dataset {
    table-concurrency = 20
    view-concurrency = 10
  }

  # ReadUpdateTreeDataset simulation
  read-update-tree-dataset {
    read-write-ratio = 0.8
    throughput = 50
    duration-in-minutes = 3
  }
}

---
title: 설치
description: Bingsan의 모든 설치 방법 완벽 가이드
---

# 설치

이 가이드에서는 Bingsan의 모든 설치 방법을 다룹니다.

## 방법 1: Docker Compose (권장)

개발 및 테스트를 위한 가장 쉬운 방법입니다.

### 사전 요구사항

- Docker Engine 20.10+
- Docker Compose v2.0+

### 설치 단계

```bash
# 저장소 클론
git clone https://github.com/teamPaprika/bingsan.git
cd bingsan

# 설정 복사
cp config.example.yaml config.yaml

# 서비스 시작
docker compose -f deployments/docker/docker-compose.yml up -d
```

## 방법 2: 소스에서 빌드

Bingsan을 직접 빌드하여 실행합니다.

### 사전 요구사항

- Go 1.24 이상
- PostgreSQL 15+ (실행 중이고 접근 가능해야 함)

### 설치 단계

```bash
# 저장소 클론
git clone https://github.com/teamPaprika/bingsan.git
cd bingsan

# 의존성 다운로드
go mod download

# 바이너리 빌드
go build -o bin/iceberg-catalog ./cmd/iceberg-catalog

# 설정
cp config.example.yaml config.yaml
# PostgreSQL 연결 정보로 config.yaml 편집

# 실행
./bin/iceberg-catalog
```

### 빌드 옵션

버전 정보와 함께 빌드:

```bash
go build -ldflags "-X main.version=1.0.0 -X main.commit=$(git rev-parse HEAD)" \
  -o bin/iceberg-catalog ./cmd/iceberg-catalog
```

다른 플랫폼용 빌드:

```bash
# Linux AMD64
GOOS=linux GOARCH=amd64 go build -o bin/iceberg-catalog-linux-amd64 ./cmd/iceberg-catalog

# Linux ARM64
GOOS=linux GOARCH=arm64 go build -o bin/iceberg-catalog-linux-arm64 ./cmd/iceberg-catalog

# macOS AMD64
GOOS=darwin GOARCH=amd64 go build -o bin/iceberg-catalog-darwin-amd64 ./cmd/iceberg-catalog

# macOS ARM64 (Apple Silicon)
GOOS=darwin GOARCH=arm64 go build -o bin/iceberg-catalog-darwin-arm64 ./cmd/iceberg-catalog
```

## 방법 3: Docker 이미지

Docker 이미지를 로컬에서 빌드하고 실행합니다.

```bash
# 저장소 클론
git clone https://github.com/teamPaprika/bingsan.git
cd bingsan

# 이미지 빌드
docker build -t bingsan:latest -f deployments/docker/Dockerfile .

# 환경 변수와 함께 실행
docker run -d \
  --name bingsan \
  -p 8181:8181 \
  -e ICEBERG_DATABASE_HOST=postgres \
  -e ICEBERG_DATABASE_PORT=5432 \
  -e ICEBERG_DATABASE_USER=iceberg \
  -e ICEBERG_DATABASE_PASSWORD=iceberg \
  -e ICEBERG_DATABASE_DATABASE=iceberg_catalog \
  bingsan:latest
```

> **참고**: PostgreSQL이 컨테이너에서 접근 가능한지 확인하세요. 로컬 개발의 경우 네트워킹을 자동으로 처리하는 방법 1 (Docker Compose)을 사용하세요.

## 방법 4: Kubernetes

Helm 또는 raw 매니페스트를 사용하여 Kubernetes에 배포합니다.

자세한 내용은 [Kubernetes 배포 가이드](../deployment/kubernetes)를 참조하세요.

## 데이터베이스 설정

Bingsan은 PostgreSQL 15 이상이 필요합니다.

### 데이터베이스 생성

```sql
CREATE DATABASE iceberg_catalog;
CREATE USER iceberg WITH PASSWORD 'iceberg';
GRANT ALL PRIVILEGES ON DATABASE iceberg_catalog TO iceberg;
```

### 자동 마이그레이션

Bingsan은 시작 시 자동으로 데이터베이스 마이그레이션을 실행합니다. 수동 스키마 설정이 필요하지 않습니다.

## 설치 확인

Bingsan을 시작한 후 올바르게 실행되고 있는지 확인합니다:

```bash
# 헬스 체크
curl http://localhost:8181/health

# 준비 상태 체크 (DB 포함)
curl http://localhost:8181/ready

# 설정 조회
curl http://localhost:8181/v1/config
```

## 환경 변수

모든 설정 옵션은 `ICEBERG_` 접두사를 사용하여 환경 변수로 설정할 수 있습니다:

| 환경 변수 | 설정 경로 | 설명 |
|---------------------|-------------|-------------|
| `ICEBERG_SERVER_HOST` | `server.host` | 바인드 주소 |
| `ICEBERG_SERVER_PORT` | `server.port` | 리슨 포트 |
| `ICEBERG_DATABASE_HOST` | `database.host` | PostgreSQL 호스트 |
| `ICEBERG_DATABASE_PORT` | `database.port` | PostgreSQL 포트 |
| `ICEBERG_DATABASE_USER` | `database.user` | 데이터베이스 사용자 |
| `ICEBERG_DATABASE_PASSWORD` | `database.password` | 데이터베이스 비밀번호 |
| `ICEBERG_DATABASE_DATABASE` | `database.database` | 데이터베이스 이름 |
| `ICEBERG_AUTH_ENABLED` | `auth.enabled` | 인증 활성화 |

모든 옵션은 [설정 가이드](../configuration)를 참조하세요.
